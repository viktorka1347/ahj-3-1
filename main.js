!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(0);const n=new class{constructor(){this.hit=!1}bindToDOM(t){this.score=t.querySelector(".score"),this.board=t.querySelector(".hole-board")}drawBoard(t){let e="";for(let i=0;i<t**2;i++)e+='<div class="hole"></div>';this.board.innerHTML=e,this.board.addEventListener("mousedown",(t=>this.shot(t))),this.holes=this.board.querySelectorAll(".hole"),this.goblin=document.createElement("img"),this.goblin.src="img/goblin.png",this.goblin.className="goblin"}drawGoblin(t){this.holes[t].appendChild(this.goblin)}hideGoblin(){this.goblin.parentNode.innerHTML=""}drawScore(t,e){this.score.textContent=`|=| Попадания: ${t} |=| Промахи: ${e} |=|`}drawReady(){this.score.textContent="ГОТОВНОСТЬ!!!"}shot(t){this.hit=t.target===this.goblin||t.target===this.goblin.parentNode}};n.bindToDOM(document.querySelector(".game-container"));const o=new class{constructor(t){this.gameUI=t}init(){this.activeIndex=-1,this.size=4,this.gameUI.drawBoard(this.size),this.start()}start(){this.hitCount=0,this.hit=!1,this.missCount=-1,this.gameUI.drawReady(),this.timerID=setInterval((()=>this.moveGoblin()),1e3)}moveGoblin(){const t=this.activeIndex;do{this.activeIndex=Math.trunc(Math.random()*this.size**2)}while(this.activeIndex===t);this.gameUI.drawGoblin(this.activeIndex),this.gameUI.hit?this.hitCount++:this.missCount++,this.gameUI.hit=!1,this.gameUI.drawScore(this.hitCount,this.missCount),this.missCount>4&&(clearInterval(this.timerID),this.gameUI.hideGoblin(),setTimeout((()=>{alert("GAME OVER :("),this.start()}),0))}}(n);o.init()}]);